<div id="mySidenav" class="sidenav">
    <h2 class="vurga-titles text-center" style="color: #fafafa;">Tu pedido</h2>
    
    <div *ngFor="let pd of cart" class="m-1 cart-items" > 
        <div>
            <button class="buttonsColor btn float-right" (click)="removeProduct(pd)" >eliminar</button>
            <h3 class="vurga-titles">{{pd.name}}</h3>
        </div>
        <p>Precio: {{pd.price | currency : 'ARS' : 'symbol-narrow'}}</p>
        <ul>
            <li *ngFor="let ex of pd.extras">
                <mat-chip-list aria-label="Fish selection">
                    <p>{{ ex.name }} - {{ex.price | currency : 'ARS' : 'symbol-narrow'}} <mat-chip class="buttonsColor btn" (click)="removeExtra(ex, pd)" >Quitar</mat-chip> </p>
                </mat-chip-list>
            </li>
        </ul>
    </div>
    <div *ngIf="cart.length > 0" >
        <button class="buttonsColor btn btn-lg btn-block" style="margin-bottom: 90px;" (click)="confirm()">Confirmar Pedido {{cartTotalAmount | currency : 'ARS' : 'symbol-narrow'}}</button>
    </div>
</div>
<div class="mt-4">
    <div *ngIf="opened;else elseBlock">
      <span style="font-size:30px;cursor:pointer" (click)="opened = !opened" onclick="openNav()">&#9776; Open</span>
    </div>
    <ng-template #elseBlock >
      <span style="font-size:30px;cursor:pointer" href="javascript:void(0)" (click)="opened = !opened" onclick="closeNav()">&times; Close</span>
    </ng-template>
</div>
  
<div *ngFor="let category of categories">
    <mat-card (click)="categorySelected(category.id)" class="mt-3" style="background-color: #fafafa;"> 
        <mat-card-title class="vurga-titles" >
            {{ category.name }}
        </mat-card-title>
        {{ category.description }}
    </mat-card>
</div>

    <mat-grid-list cols="2" rowHeight="1:1" gutterSize="4px" [style.height]="'100%'">
        <div *ngIf="productsData?.length > 0">
            <mat-card [style.width]="'100%'" [style.height]="'80%'" *ngFor="let pd of productsData; let i of index" class="mt-3" style="background-color: #fafafa;">
                <mat-card-header>
                    <mat-card-title class="vurga-titles">
                        {{pd.name}}
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <p>Precio: {{pd.price | currency : 'ARS' : 'symbol-narrow'}}</p>
                    <small>{{pd.description}}</small><br>
                    <button mat-mini-fab class="buttonsColor m-3" (click)="addToCart(i)" type="submit">
                        <mat-icon >add_shopping_cart</mat-icon>
                    </button>
                    <br>
                    <button *ngIf="pd.extras?.length > 0" mat-button (click)="lookExtras(i)" >Extras!</button>
                    <div *ngIf="selectedProduct && i==extraIndexSelected">
                        <mat-accordion *ngFor="let ex of pd.extras; let j = index">
                            <mat-expansion-panel class="mt-1">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        {{ ex.name }}
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <mat-panel-description style="text-align: center;">
                                    <p>Precio: {{ex.price | currency : 'ARS' : 'symbol-narrow'}}</p>
                                </mat-panel-description>
                                <mat-checkbox (click)="selectExtra(pd,ex.id)" >Agregar!</mat-checkbox>
                            </mat-expansion-panel>
                        </mat-accordion> 
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
</mat-grid-list>

